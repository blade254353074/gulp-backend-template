$(function(){$("#carListTable").on("click",".up",function(t){t.preventDefault();var e=$(this),n=e.closest("tr"),o=n.data("id");e.prop("disabled",!0),$.ajax({url:"/keeper/car/"+o+"/switchLine",type:"POST",dataType:"json",data:{_method:"PUT",carIsOnline:!0}}).done(function(t){return t.state?void e.prop("disabled",!0).replaceWith('<button class="down btn btn-sm btn-warning" type="button">下架</button>'):void $$.modal.show({title:"提示",content:"下架失败，请重试",after:function(){e.prop("disabled",!1)}})})}).on("click",".down",function(t){t.preventDefault();var e=$(this),n=e.closest("tr"),o=n.data("id");e.prop("disabled",!0),$.ajax({url:"/keeper/car/"+o+"/switchLine",type:"POST",dataType:"json",data:{_method:"PUT",carIsOnline:!1}}).done(function(t){return t.state?void e.prop("disabled",!0).replaceWith('<button class="up btn btn-sm btn-info" type="button">上架</button>'):void $$.modal.show({title:"提示",content:"上架失败，请重试",after:function(){e.prop("disabled",!1)}})})}).on("click",".delete",function(t){t.preventDefault();var e=$(this),n=e.closest("tr"),o=n.data("id");$$.modal.show({title:"注意",content:"删除此条汽车信息后，该汽车的所有预约也将删除，请确认",type:"confirm",confirm:function(){$.ajax({url:"/keeper/car/"+o,type:"DELETE",dataType:"json"}).done(function(t){t.state&&window.location.reload(),$$.modal.show({title:"提示",content:"删除失败，请重试"})})}})})});